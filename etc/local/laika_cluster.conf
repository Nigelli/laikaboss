# Local development configuration for Laika BOSS
# This is a simplified config for local smoke testing

[General]
cluster = local

hostname = localhost
laika_head_node_short = localhost
laika_head_node = localhost

# Simple Redis URL without TLS for local development
# Note: use 'redis' as hostname since we're inside Docker network
redis_url = redis://redis:6379/

broker_host = tcp://localhost:5558

storage_rest_api = http://localhost:8123

# MinIO S3-compatible storage URL
storage_url = http://file:/etc/laikaboss/secrets/s3_creds@minio:9000?bucket_prefix=laikaboss-local-

numprocs = 4

[laikarestd]
# Disable LDAP for local testing - use local_creds file only
# ldap_uri = ...
ldap_account_base = ou=people,dc=example,dc=com
ldap_group_attribute = memberOf
ldap_group_base = ou=groups,dc=example,dc=com
ldap_auth_dn =
ldap_auth_dn_pw =
ldap_account_prefix = cn
ldap_group_prefix = cn
ldap_valid_groups = []
auth_valid_users = ["laika_system"]
ldap_timeout_secs = 8
ldap_refresh_interval = 300

[storage-gui]
scan_url = http://localhost:8080/laika/oauth/scan
scan_status_url = http://localhost:8080/laika/oauth/status
memorialized_bucket_name = memorialized-storage

[laikacollector]
num_workers = 4
queue_mapping = email:lc-email:5,webui:lc-webui:2,default:laikacollector:1

[submitstorage]

[laikad]
work_queues = lc-email:10,lc-webui:1,laikacollector:1
numprocs = 4

[laikamail]
recipients = scan
